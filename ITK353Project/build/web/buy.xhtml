<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <link rel="SHORTCUT ICON" href="./resources/images/favicon.ico"/>
        <title>Buy the Deal - Purchase</title>
		<style>
            label {
                float: left;
                width: 10em;
            }
        </style>
    </h:head>
    <h:body style ="background-color:#299ed4">
        <table>
            <tr>
                <td></td>
                <td align="center"><h:form><h:commandLink action="#{DealBean.indexLink()}"><h:graphicImage  value="#{resource['images:logo.jpg']}" style ="border:none"/></h:commandLink></h:form></td>
            </tr>
            <tr>
                <td valign="top">
                    <h:form>
                        <p><font color="white" face="arial">#{DealBean.getWelcomeMessage()}!</font></p>
                        <p><font color="white" face="arial">Buy The Deal for: Bloomington Illinois</font></p>
                        <p><font color="white" face="arial">Bloomington's Current Tempature: </font></p>
                        <h:outputText value= "#{DealBean.getWeather()}" escape= "false"/>
                        <h:commandButton id="logout" value="Logout" action="#{DealBean.logout()}" /><br/><br/>
                        <h:commandLink id="manageLink" action="#{DealBean.manageLink()}"><h:graphicImage value="#{resource['images:manageAccount.jpg']}" style ="border:none" /></h:commandLink><br/>
                        <h:commandLink id="indexLink" action="#{DealBean.indexLink()}"><h:graphicImage value="#{resource['images:viewDeal.jpg']}"  style ="border:none" /></h:commandLink> <br/>
                    </h:form>
                </td>
                <td width="100%" bgcolor ="#A7C6D3">
                    <center><h1>Complete Purchase</h1></center>
                    <table>
                        <tr>
                            <td valign="top">
                                <h:outputText value ="#{DealBean.presentDeal()}" escape = "false"/>
                            </td>
                            <td valign="top">
					<table width="500px" align="center">
						<tr>
							<td>
                                <h:form>
                                    <h3>Item Details:</h3>
                                    <table>
                                        <tr valign="top"><td width="125"><b>Name:</b></td><td><h:outputText value="#{DealBean.getDealName()}" id = "getDealName"/></td></tr>
                                        <tr valign="top"><td width="125"><b>Description:</b></td><td><h:outputText value="#{DealBean.getDealDescription()}" id = "getDealDescrption"/></td></tr>
                                        <tr valign="top"><td width="125"><b>Price:</b></td><td><h:outputText value="#{DealBean.getDealPrice()}" id = "getDealPrice"/></td></tr>
                                    </table>
                                    <h3>Payment Info:</h3>
                                    <label>Credit Card Number:</label> <h:inputText id="creditCardNumber" maxlength="16" value="#{DealBean.ccNumber}" /><br/><br/>
                                    <label>Card Issuer:</label> <h:selectOneMenu id="ccIuuser" value="#{DealBean.ccIssuer}">
                                        <f:selectItem id="issuerNone" itemLabel="Select an Issuer..." itemValue="none" />
                                        <f:selectItem id="issuerVisa" itemLabel="Visa" itemValue="VISA" />
                                        <f:selectItem id="issuerMastercard" itemLabel="Mastercard" itemValue="MASTERCARD" />
                                        <f:selectItem id="issuerDiscover" itemLabel="Discover" itemValue="DISCOVER" />
                                    </h:selectOneMenu><br/><br/>
                                    <label>Name on Card:</label> <h:inputText id="ccName" maxlength="40" value="#{DealBean.ccName}" /><br/><br/>
                                    <label>Expiration Month / Year: </label><h:inputText id="ccMonth" maxlength="2" size="2" value="#{DealBean.ccMonth}" /> /
                                    <h:inputText id="ccYear" maxlength="4" size="4" value="#{DealBean.ccYear}" /><br/><br/>
                                    <label>Street Address:</label> <h:inputText id="streetAddress" maxlength="50" value="#{DealBean.streetAddress}" /><br/><br/>
                                    <label>City/State:</label> <h:inputText id="city" maxlength="30" value="#{DealBean.city}" /> /
                                    <h:inputText id="state" maxlength="2" size="2" value="#{DealBean.state}" /><br/><br/>
									<label>Zip Code:</label> <h:inputText id="zipCode" maxlength="5" value="#{DealBean.zipCode}" /><br/>
                                    <h:commandButton id="completePurchase" value="Complete Purchase" action="#{DealBean.completePurchase()}"/>
                                </h:form>
								</td>
								</tr>
								</table>
                            </td>
                        </tr>
                    </table>
                    <br/>
                </td>
            </tr>
        </table>
    </h:body>
</html>

